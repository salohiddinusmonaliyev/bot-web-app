<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>DurgerKingExampleBot</title>
	<meta name="viewport"
	      content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, viewport-fit=cover"/>
	<meta name="format-detection" content="telephone=no"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta name="MobileOptimized" content="176"/>
	<meta name="HandheldFriendly" content="True"/>
	<meta name="robots" content="noindex, nofollow"/>
	<script src="https://tg.dev/js/telegram-web-app.js?7"></script>
	<script>
        function setThemeClass() {
            document.documentElement.className = Telegram.WebApp.colorScheme;
        }

        Telegram.WebApp.onEvent('themeChanged', setThemeClass);
        setThemeClass();
	</script>
	<link href="css/cafe.css" rel="stylesheet">
</head>
<body>
    <form style="width: 100%;" id="main">
<section class="cafe-page cafe-items" style="width: 100%;">
        <div class="cafe-item js-item" data-item-id="1" data-item-price="4990">
            <div class="cafe-item-counter js-item-counter" id="quantity">1</div>
            <div class="cafe-item-photo">
                <picture class="cafe-item-lottie js-item-lottie">
                    <source type="application/x-tgsticker" srcset="./img/tgs/Burger.tgs">
                    <img src="./img/Burger_148.png"
                         style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJnIiB4MT0iLTMwMCUiIHgyPSItMjAwJSIgeTE9IjAiIHkyPSIwIj48c3RvcCBvZmZzZXQ9Ii0xMCUiIHN0b3Atb3BhY2l0eT0iLjEiLz48c3RvcCBvZmZzZXQ9IjMwJSIgc3RvcC1vcGFjaXR5PSIuMDciLz48c3RvcCBvZmZzZXQ9IjcwJSIgc3RvcC1vcGFjaXR5PSIuMDciLz48c3RvcCBvZmZzZXQ9IjExMCUiIHN0b3Atb3BhY2l0eT0iLjEiLz48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJ4MSIgZnJvbT0iLTMwMCUiIHRvPSIxMjAwJSIgZHVyPSIzcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJ4MiIgZnJvbT0iLTIwMCUiIHRvPSIxMzAwJSIgZHVyPSIzcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBmaWxsPSJ1cmwoI2cpIiBkPSJNMjY4LDQ5OWMtNTEtMi0xMDYtMS0xNTMtMjItMjgtMTItMzktNDAtNDItNjgsMC00LDMtNywxLTEwLTUtNi0xNiwzLTEzLTE0LDItMTEsMTItMTQsMTEtMjcsMC0yLTUtMTItNS0xNiwwLTYsNS0xNyw0LTIyLTItNy05LTUtNi0xNSwzLTEwLDE0LTcsMTktMTMsNy0xMi0xNC0yNC0xNy0zMy0zLTEyLTEtMjgsMi0zOSwyOC0xMDEsMTQ4LTEzMywyMzktMTE1LDY0LDEzLDEzMCw1OSwxNDIsMTI3LDMsMTgsMCwzMi0xNSw0Mi0xLDEtMTEsMTMtNywxNiw0LDIsMjAsNCwyMiw5LDYsMTAtNywxNS05LDIyLTEsMywzLDExLDMsMTYsMCwyLTMsMTctMiwxOSwyLDIsOCwxLDEwLDQsMyw1LDQsMTYsNiwyMiw0LDEzLTE1LDIwLTE5LDI3LTksMjAsNSw0MC0yMyw2MC00MCwyOC0xMDEsMjktMTQ4LDMweiIvPjwvc3ZnPg==');"
                         alt="Burger">
                </picture>
            </div>
            <div class="cafe-item-label">
                <span class="cafe-item-title" id="item">Burger</span>
                <span class="cafe-item-price">$4.99</span>
            </div>
            <div class="cafe-item-buttons">
                <button class="cafe-item-decr-button js-item-decr-btn button-item ripple-handler">
                    <span class="ripple-mask"><span class="ripple"></span></span>
                </button>
                <button class="cafe-item-incr-button js-item-incr-btn button-item ripple-handler" id="mybuy">
                    <span class="button-item-label">Add</span>
                    <span class="ripple-mask"><span class="ripple"></span></span>
                </button>
            </div>
        </div>
</section>
<button type="submit" id="buy">Submit</button>
</form>
<form id="form" style="display: none;">
    <input type="text" placeholder="First Name" id="first_name">
    <input type="text" placeholder="Last Name" id="last_name">
    <input type="text" placeholder="Phone number" id="phone_number">
    <button id="order">Submit</button>
</form>

<script src="https://tg.dev/js/jquery.min.js"></script>
<script src="https://tg.dev/js/tgsticker.js?27"></script>
<script src="js/cafe.js?version=<?php echo uniqid() ?>"></script>
<script>
    Cafe.init({
        "apiUrl": "",
        "userId": 0,
        "userHash": null
    });
</script>
<script>
    let tg = window.Telegram.WebApp;
	let buy = document.getElementById('buy');
	let order = document.getElementById('order');
    tg.expand();

    buy.addEventListener("click", () => {

        document.getElementById("main").style.display = "none";
        document.getElementById("form").style.display = "block";
        
    });

    order.addEventListener("click", () => {
        let first_name = document.getElementById("first_name").value;
        let item = document.getElementById("item").value;
        let quantity = document.getElementById("quantity").value;
        let data = {
            first_name: first_name,
            item: item,
            quantity: quantity,
        }
        tg.sendData(JSON.stringify(data))
        tg.close()
    });
</script>
</script>
</body>
</html>